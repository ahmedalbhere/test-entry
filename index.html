<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="XIcTZUC33lJCv30PX7pLx9a8OIbagmwmbTouWh0kw3Y" />
      <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§®</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§®</text></svg>">
    <title>Test entryØ§Ø®ØªØ¨Ø§Ø± Ù‚ÙŠÙˆØ¯</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        html,body{height:100%}
        body{font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;background:#f2f7fb;color:#222;padding:12px}
        .app{max-width:920px;margin:0 auto;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
        header{background:#1f3a58;color:#fff;padding:18px 16px;text-align:center}
        header h1{font-size:20px;margin-bottom:6px}
        header p{opacity:0.9;font-size:13px}
        .content{display:flex;gap:12px;padding:14px;flex-wrap:wrap}
        .panel{background:#f9fbff;border-radius:10px;padding:14px;flex:1;min-width:260px}
        .panel .title{color:#1f3a58;font-weight:700;margin-bottom:10px}
        .operation-card{background:#fff;border-radius:8px;padding:12px;border:1px solid #e6eef7}
        .operation-desc{font-size:15px;padding:10px;border-radius:8px;background:#eef7ff;border-right:4px solid #3aa0ff}
        .operation-meta{margin-top:8px;font-size:14px;color:#1f3a58;font-weight:700}
        .journal{background:#fff;border-radius:8px;padding:10px;border:1px solid #e6eef7;margin-top:12px}
        .entry-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
        .label{width:44%;font-weight:600}
        .amounts{display:flex;gap:8px;flex:1}
        .amounts input{
    flex:1;
    padding:8px;
    border:1px solid #d7e6f5;
    border-radius:8px;
    font-size:14px;
    text-align:center;
    max-width:100%;
}
        .amounts input:focus{outline:none;box-shadow:0 2px 8px rgba(58,160,255,0.18);border-color:#3aa0ff}
        .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:10px}
        button{padding:10px 14px;border-radius:8px;border:none;font-weight:700;cursor:pointer}
        .btn-check{background:#27ae60;color:#fff}
        .btn-next{background:#1976d2;color:#fff}
        .btn-answer{background:#8e44ad;color:#fff}
        .btn-clear{background:#e67e22;color:#fff}
        .result{margin-top:10px;text-align:center;padding:12px;border-radius:8px;display:none;font-weight:700}
        .correct{background:#e6f6ea;color:#145a2d;border:1px solid #c6ebd1}
        .incorrect{background:#fdecea;color:#7b241c;border:1px solid #f5c6c6}
        .correct-answer{margin-top:10px;padding:12px;border-radius:8px;background:#eef8ff;border:1px solid #cfe9ff;display:none}
        .score{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
        .score div{background:#fff;padding:8px 10px;border-radius:8px;border:1px solid #e6eef7}
        .progress-wrap{margin-top:10px}
        .progress-bar{height:14px;background:#eef6f2;border-radius:10px;overflow:hidden}
        .progress{height:100%;background:#27ae60;width:0%;transition:width .4s}
        footer{text-align:center;padding:12px;background:#1f3a58;color:#fff;margin-top:12px;font-size:13px}
        /* responsive adjustments */
        @media (max-width:820px){
            .content{padding:12px}
            .panel{min-width:100%}
            .label{width:40%}
        }
        @media (max-width:420px){
    header h1{font-size:18px}
    .label{width:100%;font-size:13px}
    .entry-row{flex-direction:column;align-items:flex-start;width:100%}
    .amounts{width:100%;flex-direction:row;justify-content:space-between}
    .amounts input{width:48% !important;max-width:48% !important;font-size:13px;padding:8px}
    .controls{gap:6px}
    button{padding:10px}
}
            .label{width:100%;font-size:13px}
            .entry-row{flex-direction:column;align-items:flex-start}
            .amounts{width:100%;flex-direction:row}
            .controls{gap:6px}
            button{padding:10px}
        }
    </style>
</head>
<body>
    <div class="app">
        <header>
            <h1><i class="fas fa-calculator"></i> ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© - Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h1>
            <p>ØªÙ… Ø§Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨ÙˆØ§Ø³Ø·Ù‡ Ø£/Ø§Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„(Ø§Ù„Ø¨Ø­ÙŠØ±ÙŠ)</p>
        </header>

        <div class="content">
            <div class="panel" id="leftPanel">
                <div class="title"><i class="fas fa-file-invoice"></i> Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</div>
                <div class="operation-card">
                    <div id="operationDesc" class="operation-desc">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                    <div id="operationType" class="operation-meta">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: -</div>
                </div>

                <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù‚ÙŠØ¯ Ù…Ø¨Ø§Ø´Ø±Ø© ØªØ­Øª Ø§Ù„Ø³Ø¤Ø§Ù„ (Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„) -->
                <div class="journal" id="journalArea" aria-live="polite"></div>

                <div class="operation-card" style="margin-top:12px">
                    <div class="title">ØªØ¹Ù„ÙŠÙ…Ø§Øª</div>
                    <ol style="padding-inline-start:18px;margin-top:8px;line-height:1.6">
                        <li>Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©.</li>
                        <li>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠØ¯ Ù…Ø¨Ø§Ø´Ø±Ø© Ø£Ø³ÙÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (ÙŠÙˆØ¬Ø¯ Ø®Ø§Ù†ØªÙŠÙ† Ù„ÙƒÙ„ Ø³Ø·Ø±: Ù…Ø¯ÙŠÙ† - Ø¯Ø§Ø¦Ù†).</li>
                        <li>ØªØ£ÙƒØ¯ Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø¯ÙŠÙ† = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø§Ø¦Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªØ­Ù‚Ù‚".</li>
                        <li>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¶ØºØ· "Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©" Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø­Ù„ Ø£Ùˆ "Ø§Ù„ØªØ§Ù„ÙŠ" Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„.</li>
                    </ol>
                </div>

                <div class="controls" style="margin-top:12px">
                    <button id="checkBtn" class="btn-check"><i class="fas fa-check-circle"></i> ØªØ­Ù‚Ù‚</button>
                    <button id="showAnswerBtn" class="btn-answer"><i class="fas fa-eye"></i> Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                    <button id="nextBtn" class="btn-next"><i class="fas fa-arrow-right"></i> Ø§Ù„ØªØ§Ù„ÙŠ</button>
                    <button id="clearBtn" class="btn-clear"><i class="fas fa-eraser"></i> Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„</button>
                </div>

                <div id="result" class="result" role="status" aria-live="assertive"></div>
                <div id="correctAnswer" class="correct-answer" aria-live="polite"></div>

                <div class="operation-card score" style="margin-top:12px">
                    <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">
                        <div>ØµØ­ÙŠØ­: <span id="correctScore">0</span></div>
                        <div>Ø®Ø§Ø·Ø¦: <span id="incorrectScore">0</span></div>
                        <div>Ù…Ø­Ø§ÙˆÙ„Ø§Øª: <span id="totalAttempts">0</span></div>
                    </div>
                </div>

                <div class="operation-card progress-wrap" style="margin-top:12px">
                    <div class="title">Ø§Ù„ØªÙ‚Ø¯Ù…</div>
                    <div class="progress-bar" style="margin-top:8px">
                        <div id="progress" class="progress"></div>
                    </div>
                    <p style="text-align:center;margin-top:8px">Ø§Ù„Ù…Ù‡Ù…Ø© <span id="currentIndex">0</span> Ù…Ù† <span id="totalOps">30</span></p>
                </div>

            </div>
        </div>

        <footer>
            Â© Ù…ÙˆÙ‚Ø¹ ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© - 01552732042
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function(){

// ----- Ø¨ÙŠØ§Ù†Ø§Øª 30 Ø¹Ù…Ù„ÙŠØ©: 10 Ø¹Ø§Ø¯ÙŠØ© + 10 ØªØ³ÙˆÙŠØ© + 10 Ø¥Ù‚ÙØ§Ù„ -----
const operations = [
    {id:1,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø´Ø±Ø§Ø¡ Ø£Ø¬Ù‡Ø²Ø© Ø­Ø§Ø³ÙˆØ¨ Ù†Ù‚Ø¯Ø§Ù‹ Ø¨Ù…Ø¨Ù„Øº 50,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ (Ø£ØµÙˆÙ„)',debit:50000,credit:0},{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:0,credit:50000}]},
    {id:2,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø´Ø±Ø§Ø¡ Ø¨Ø¶Ø§Ø¹Ø© Ø¨Ø§Ù„Ø¢Ø¬Ù„ Ù…Ù† Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ø¨Ù‚ÙŠÙ…Ø© 30,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© (Ù…Ø®Ø²ÙˆÙ†)',debit:30000,credit:0},{account:'Ø£. Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† (Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ±)',debit:0,credit:30000}]},
    {id:3,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø¨ÙŠØ¹ Ø¨Ø¶Ø§Ø¹Ø© Ù†Ù‚Ø¯Ø§Ù‹ Ø¨Ù…Ø¨Ù„Øº 25,000 Ø¬Ù†ÙŠÙ‡ - ØªÙƒÙ„ÙØªÙ‡Ø§ 15,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:25000,credit:0},{account:'Ø£. Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© (Ù…Ø®Ø²ÙˆÙ†)',debit:0,credit:15000},{account:'Ø£. Ø±Ø¨Ø­ Ø§Ù„Ù…Ø¨ÙŠØ¹',debit:0,credit:10000}]},
    {id:4,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø³Ø¯Ø§Ø¯ Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ù†Ù‚Ø¯Ø§Ù‹ 10,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† (Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ±)',debit:10000,credit:0},{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:0,credit:10000}]},
    {id:5,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'ØªØ­ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯ Ø®Ø¯Ù…Ø§Øª Ù†Ù‚Ø¯Ø§Ù‹ 8,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:8000,credit:0},{account:'Ø£. Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø®Ø¯Ù…Ø§Øª',debit:0,credit:8000}]},
    {id:6,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø´Ø±Ø§Ø¡ Ø£Ø«Ø§Ø« Ù…ÙƒØªØ¨ÙŠ Ø¨Ø§Ù„Ø¢Ø¬Ù„ 12,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ø£Ø«Ø§Ø« Ø§Ù„Ù…ÙƒØªØ¨ÙŠ (Ø£ØµÙˆÙ„)',debit:12000,credit:0},{account:'Ø£. Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ†',debit:0,credit:12000}]},
    {id:7,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø³Ø¯Ø§Ø¯ Ù…ØµØ±ÙˆÙ Ø¥ÙŠØ¬Ø§Ø± Ù†Ù‚Ø¯Ø§Ù‹ 3,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±',debit:3000,credit:0},{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:0,credit:3000}]},
    {id:8,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'ØªØ­ØµÙŠÙ„ Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯Ø§Ù‹ 5,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:5000,credit:0},{account:'Ø£. Ø§Ù„Ù…Ø¯ÙŠÙ†ÙˆÙ†',debit:0,credit:5000}]},
    {id:9,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø´Ø±Ø§Ø¡ Ù…ÙˆØ§Ø¯ Ù…ÙƒØªØ¨ÙŠØ© Ù†Ù‚Ø¯Ø§Ù‹ 1,500 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©',debit:1500,credit:0},{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:0,credit:1500}]},
    {id:10,type:'Ø¹Ø§Ø¯ÙŠØ©',description:'Ø¨ÙŠØ¹ Ø£ØµÙ„ Ø«Ø§Ø¨Øª Ù†Ù‚Ø¯Ø§Ù‹ 40,000 Ø¬Ù†ÙŠÙ‡ - Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¯ÙØªØ±ÙŠØ© 35,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©',debit:40000,credit:0},{account:'Ø£. Ø§Ù„Ø£ØµÙ„ Ø§Ù„Ø«Ø§Ø¨Øª (Ø³ÙŠØ§Ø±Ø©)',debit:0,credit:35000},{account:'Ø£. Ø±Ø¨Ø­ Ø¨ÙŠØ¹ Ø§Ù„Ø£ØµÙ„',debit:0,credit:5000}]},
    {id:11,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø³ØªØ­Ù‚Ø© Ø¨Ù‚ÙŠÙ…Ø© 2,500 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø³ØªØ­Ù‚Ø©',debit:2500,credit:0},{account:'Ø£. Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª',debit:0,credit:2500}]},
    {id:12,type:'ØªØ³ÙˆÙŠØ©',description:'Ù‚ÙŠØ¯ Ø¥Ù‡Ù„Ø§Ùƒ Ù„Ù„Ø£ØµÙˆÙ„ 1,200 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ',debit:1200,credit:0},{account:'Ø£. Ù…Ø¬Ù…Ø¹ Ø¥Ù‡Ù„Ø§Ùƒ',debit:0,credit:1200}]},
    {id:13,type:'ØªØ³ÙˆÙŠØ©',description:'Ù…ØµØ§Ø±ÙŠÙ Ù…Ø¯ÙÙˆØ¹Ø© Ù…Ù‚Ø¯Ù…Ø§Ù‹ ØªÙ… ØªØ®ØµÙŠØµÙ‡Ø§ 600 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¯ÙÙˆØ¹Ø© Ù…Ù‚Ø¯Ù…Ø§Ù‹',debit:0,credit:600},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„ÙØªØ±Ø©',debit:600,credit:0}]},
    {id:14,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù‚Ø¯Ù…Ø© 900 Ø¬Ù†ÙŠÙ‡ Ø¥Ù„Ù‰ Ø¥ÙŠØ±Ø§Ø¯ Ù…ÙƒØªØ³Ø¨',entries:[{account:'Ø£. Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù‚Ø¯Ù…Ø©',debit:900,credit:0},{account:'Ø£. Ø¥ÙŠØ±Ø§Ø¯ Ù…ÙƒØªØ³Ø¨',debit:0,credit:900}]},
    {id:15,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (ØªÙƒØ§Ù„ÙŠÙ) 1,500 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ',debit:1500,credit:0},{account:'Ø£. Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø³ØªØ­Ù‚Ø© Ø§Ù„Ø¯ÙØ¹',debit:0,credit:1500}]},
    {id:16,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ÙƒØ§ÙØ¢Øª Ù…Ø³ØªØ­Ù‚Ø© 2,200 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª',debit:2200,credit:0},{account:'Ø£. Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª',debit:0,credit:2200}]},
    {id:17,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ØµØ±ÙˆÙØ§Øª ÙØ§Ø¦Ø¯Ø© Ù…Ø³ØªØ­Ù‚Ø© 750 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„ÙÙˆØ§Ø¦Ø¯',debit:750,credit:0},{account:'Ø£. Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©',debit:0,credit:750}]},
    {id:18,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ØµØ±ÙˆÙØ§Øª Ø¶Ø±ÙŠØ¨Ø© Ø¯Ø®Ù„ Ù…Ø³ØªØ­Ù‚Ø© 3,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ø¯Ø®Ù„',debit:3000,credit:0},{account:'Ø£. Ø¶Ø±ÙŠØ¨Ø© Ù…Ø³ØªØ­Ù‚Ø©',debit:0,credit:3000}]},
    {id:19,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…ØµØ±ÙˆÙØ§Øª ØªØ£Ù…ÙŠÙ† Ù…Ø³ØªØ­Ù‚Ø© 1,100 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„ØªØ£Ù…ÙŠÙ†',debit:1100,credit:0},{account:'Ø£. Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ­Ù‚',debit:0,credit:1100}]},
    {id:20,type:'ØªØ³ÙˆÙŠØ©',description:'ØªØ³ÙˆÙŠØ© Ù…Ø®ØµØµ Ø¯ÙŠÙˆÙ† Ù…Ø´ÙƒÙˆÙƒ ÙÙŠ ØªØ­ØµÙŠÙ„Ù‡Ø§ 900 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ø®ØµØµ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…Ø´ÙƒÙˆÙƒ ÙÙŠÙ‡Ø§',debit:900,credit:0},{account:'Ø£. Ù…Ø®ØµØµØ§Øª Ø®Ø³Ø§Ø¦Ø± Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†',debit:0,credit:900}]},
    {id:21,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± - Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:3000,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±',debit:0,credit:3000}]},
    {id:22,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø±ÙˆØ§ØªØ¨ - Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:5000,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø±ÙˆØ§ØªØ¨',debit:0,credit:5000}]},
    {id:23,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­',entries:[{account:'Ø£. Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',debit:40000,credit:0},{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:0,credit:40000}]},
    {id:24,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø®Ø¯Ù…Ø§Øª - Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­',entries:[{account:'Ø£. Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø®Ø¯Ù…Ø§Øª',debit:8000,credit:0},{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:0,credit:8000}]},
    {id:25,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù†Ù‚Ù„ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ 10,000 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:10000,credit:0},{account:'Ø£. Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„',debit:0,credit:10000}]},
    {id:26,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙ Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø¯Ø¹Ø§ÙŠØ© 1,200 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:1200,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¯Ø¹Ø§ÙŠØ©',debit:0,credit:1200}]},
    {id:27,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙ Ø§Ù„Ù…Ø±Ø§ÙÙ‚ 600 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:600,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ù…Ø±Ø§ÙÙ‚',debit:0,credit:600}]},
    {id:28,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙ Ø§Ù„Ø§Ù‡Ù„Ø§Ùƒ 1,200 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:1200,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ',debit:0,credit:1200}]},
    {id:29,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ 750 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:750,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙ Ø§Ù„ÙÙˆØ§Ø¦Ø¯',debit:0,credit:750}]},
    {id:30,type:'Ø¥Ù‚ÙØ§Ù„',description:'Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù…ØµØ±ÙˆÙØ§Øª Ø£Ø®Ø±Ù‰ 900 Ø¬Ù†ÙŠÙ‡',entries:[{account:'Ø£. Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±',debit:900,credit:0},{account:'Ø£. Ù…ØµØ±ÙˆÙØ§Øª Ø£Ø®Ø±Ù‰',debit:0,credit:900}]}
];

// ----- Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØªØ¨Ø¹ -----
let currentIndex = 0;
let correctScore = 0;
let incorrectScore = 0;
let totalAttempts = 0;

// ----- Ø¹Ù†Ø§ØµØ± DOM -----
const operationDescEl = document.getElementById('operationDesc');
const operationTypeEl = document.getElementById('operationType');
const journalArea = document.getElementById('journalArea');
const correctScoreEl = document.getElementById('correctScore');
const incorrectScoreEl = document.getElementById('incorrectScore');
const totalAttemptsEl = document.getElementById('totalAttempts');
const progressEl = document.getElementById('progress');
const currentIndexEl = document.getElementById('currentIndex');
const totalOpsEl = document.getElementById('totalOps');
const resultEl = document.getElementById('result');
const correctAnswerEl = document.getElementById('correctAnswer');

const checkBtn = document.getElementById('checkBtn');
const showAnswerBtn = document.getElementById('showAnswerBtn');
const nextBtn = document.getElementById('nextBtn');
const clearBtn = document.getElementById('clearBtn');

totalOpsEl.textContent = operations.length;

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
function loadOperation(i){
    const op = operations[i];
    operationDescEl.textContent = op.description;
    operationTypeEl.textContent = 'Ø§Ù„Ù†ÙˆØ¹: ' + op.type;
    currentIndexEl.textContent = i+1;
    updateProgress();

    // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø¨Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ù‚ÙŠØ¯
    journalArea.innerHTML = '';
    op.entries.forEach((entry, idx) =>{
        const row = document.createElement('div');
        row.className = 'entry-row';
        row.innerHTML = `
            <div class="label">${entry.account}</div>
            <div class="amounts">
                <input type="number" min="0" step="0.01" inputmode="numeric" placeholder="Ù…Ø¯ÙŠÙ†" data-idx="${idx}" data-side="debit">
                <input type="number" min="0" step="0.01" inputmode="numeric" placeholder="Ø¯Ø§Ø¦Ù†" data-idx="${idx}" data-side="credit">
            </div>
        `;
        journalArea.appendChild(row);
    });

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    resultEl.style.display = 'none';
    correctAnswerEl.style.display = 'none';
}

// ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
function updateProgress(){
    const pct = ((currentIndex+1)/operations.length) * 100;
    progressEl.style.width = pct + '%';
}

// Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„
function getUserEntries(){
    const inputs = journalArea.querySelectorAll('input');
    const grouped = {};
    inputs.forEach(inp =>{
        const idx = inp.dataset.idx;
        const side = inp.dataset.side; // 'debit' or 'credit'
        const val = parseFloat(inp.value) || 0;
        if(!grouped[idx]) grouped[idx] = {debit:0,credit:0};
        grouped[idx][side] = val;
    });
    // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© Ù…Ø±ØªØ¨Ø© Ø¨Ø­Ø³Ø¨ index
    const arr = Object.keys(grouped).sort((a,b)=>a-b).map(k=>grouped[k]);
    return arr;
}

// Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
function clearFields(){
    const inputs = journalArea.querySelectorAll('input');
    inputs.forEach(i => i.value = '');
    resultEl.style.display = 'none';
    correctAnswerEl.style.display = 'none';
}

// ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆØ§Ø²Ù† Ø§Ù„Ù‚ÙŠØ¯ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„ØµØ­ÙŠØ­
function checkEntry(){
    const op = operations[currentIndex];
    const user = getUserEntries();

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
    const totalDebitUser = user.reduce((s,e)=>s+ (e.debit||0),0);
    const totalCreditUser = user.reduce((s,e)=>s+ (e.credit||0),0);

    let isCorrect = true;

    // Ø´Ø±Ø·: ØªÙˆØ§Ø²Ù†
    if(Math.abs(totalDebitUser - totalCreditUser) > 0.001) {
        isCorrect = false;
    }

    // Ø´Ø±Ø·: Ø§Ù„Ù‚ÙŠÙ… Ù„ÙƒÙ„ Ø³Ø·Ø± Ù…Ø·Ø§Ø¨Ù‚Ù‡
    for(let i=0;i<op.entries.length;i++){
        const u = user[i] || {debit:0,credit:0};
        const c = op.entries[i] || {debit:0,credit:0};
        if(Math.abs(u.debit - c.debit) > 0.001 || Math.abs(u.credit - c.credit) > 0.001){
            isCorrect = false; break;
        }
    }

    totalAttempts++;
    totalAttemptsEl.textContent = totalAttempts;

    if(isCorrect){
        correctScore++;
        correctScoreEl.textContent = correctScore;
        resultEl.textContent = 'âœ“ Ø§Ù„Ù‚ÙŠØ¯ ØµØ­ÙŠØ­ â€” Ø£Ø­Ø³Ù†Øª!';
        resultEl.className = 'result correct';
        resultEl.style.display = 'block';
    } else {
        incorrectScore++;
        incorrectScoreEl.textContent = incorrectScore;
        resultEl.textContent = 'âœ— Ø§Ù„Ù‚ÙŠØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ â€” ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø²Ù† Ø£Ùˆ Ø§Ù„Ù‚ÙŠÙ….';
        resultEl.className = 'result incorrect';
        resultEl.style.display = 'block';
    }
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
function showCorrectAnswer(){
    const op = operations[currentIndex];
    let html = '<h3 style="margin-bottom:8px">Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„ØµØ­ÙŠØ­:</h3>';
    op.entries.forEach(e=>{
        html += `<div style="margin-bottom:6px;display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:700">${e.account}</div>
            <div style="display:flex;gap:10px">
                <div>${e.debit>0? e.debit.toLocaleString()+ ' Ø¬.Ù…':''}</div>
                <div>${e.credit>0? e.credit.toLocaleString()+ ' Ø¬.Ù…':''}</div>
            </div>
        </div>`;
    });
    // Ù…Ø¬Ù…ÙˆØ¹
    const td = op.entries.reduce((s,x)=>s+(x.debit||0),0);
    const tc = op.entries.reduce((s,x)=>s+(x.credit||0),0);
    html += `<hr style="margin:8px 0"><div style="display:flex;justify-content:space-between;font-weight:700"><div>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</div><div>${td.toLocaleString()} Ø¬.Ù… â€” ${tc.toLocaleString()} Ø¬.Ù…</div></div>`;

    correctAnswerEl.innerHTML = html;
    correctAnswerEl.style.display = 'block';
}

// Ø§Ù„ØªØ§Ù„ÙŠ
function nextOperation(){
    if(currentIndex < operations.length -1){
        currentIndex++;
        loadOperation(currentIndex);
    } else {
        alert('Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª. Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©.');
        alert(`Ø§Ù„Ù†ØªÙŠØ¬Ø©: ØµØ­ÙŠØ­ ${correctScore} â€” Ø®Ø§Ø·Ø¦ ${incorrectScore} â€” Ù…Ø­Ø§ÙˆÙ„Ø§Øª ${totalAttempts}`);
        currentIndex = 0;
        correctScore = 0; incorrectScore = 0; totalAttempts = 0;
        correctScoreEl.textContent = '0';
        incorrectScoreEl.textContent = '0';
        totalAttemptsEl.textContent = '0';
        loadOperation(currentIndex);
    }
}

// Ø£Ø­Ø¯Ø§Ø«
checkBtn.addEventListener('click', checkEntry);
showAnswerBtn.addEventListener('click', showCorrectAnswer);
nextBtn.addEventListener('click', nextOperation);
clearBtn.addEventListener('click', clearFields);

// Ø¯Ø¹Ù… Ø§Ù„Ø¶ØºØ· Enter Ù„Ù„ØªØ­Ù‚Ù‚ (Ù…Ù‡Ù… Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ - Ø²Ø± Go)
document.addEventListener('keydown', function(e){ if(e.key === 'Enter'){ checkEntry(); } });

// ØªÙ‡ÙŠØ¦Ø©
loadOperation(currentIndex);

}); // DOMContentLoaded
</script>
</body>
</html>
